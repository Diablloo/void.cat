<link rel="import" href="/bower_components/polymer/polymer-element.html">
<link rel="import" href="/src/modules/dropzone.html">
<link rel="import" href="/src/modules/upload.html">
<link rel="import" href="/src/modules/view.html">
<dom-module id="void-main">
    <template>
		<style>
			a { color: inherit; text-decoration: none; }
			a:hover { text-decoration: underline; }
			.footer {
				text-align:center;
				margin-top: 10px;
				text-transform: uppercase;
			}
			img {
				margin-top: 10px;
			}
			
			@media(max-width: 520px) {
                img {
					width: 100%;
				}
            }
		</style>
		<template is="dom-if" if="{{view}}">
			<void-view hash="{{hash}}"></void-view>
		</template>
		<template is="dom-if" if="{{!view}}">
			<void-drop-zone></void-drop-zone>
		</template>
		
		<div class="footer">
			<div class="links">
				<a href="https://discord.gg/8BkxTGs">Discord</a> | 
				<a href="/src/php/tip-me.php">Crypto Tips</a> |
				<a href="/src/php/lightning-tip.php">⚡Lightning Tip⚡</a> |
				<a href="dat://0d7fe5f1e26e8541745f585f38f7075f135abcba78409b8b93d13c4322771297/">Dat</a>
			</div>
			<img src="/graph"/>
		</div>
    </template>
</dom-module>

<script>
    class VoidMain extends Polymer.Element {
        static get is() { return "void-main"; }

        constructor() {
            super();
			
        }

        ready() {
            super.ready();
			
			this.hash = window.location.hash;
			if(this.hash.length === 41){
				this.view = true;
			}else{
				this.view = false;
			}
        }

    }
    customElements.define(VoidMain.is, VoidMain)
</script>
